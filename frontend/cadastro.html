<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Olympus App</title>
    <link rel="shortcut icon" href="imgs/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="css/padrao.css">
    <link rel="stylesheet" href="css/cadastro-login.css">
</head>
<body>
    <div>
        <header>
            <h1>Olympus App</h1>
        </header>
        <h1 style="margin-bottom: 120px; font-size: 30px;">Cadastro</h1>
        <form id="cadastroForm">
            <input type="text" id="nome" name="nome" placeholder="Nome" required>
            <input type="email" id="email" name="email" placeholder="Email" required>

            <div class="password-wrapper">
                <input type="password" id="senha" name="senha" placeholder="Senha" required>
                <img id="togglePassword" class="toggle-eye" src="icons/olho-fechado.png" alt="Mostrar senha" title="Mostrar senha">
            </div>

            <div class="password-wrapper">
                <input type="password" id="confirmaSenha" name="confirmaSenha" placeholder="Confirme a senha" required>
                <img id="toggleConfirmPassword" class="toggle-eye" src="icons/olho-fechado.png" alt="Mostrar senha" title="Mostrar senha">
            </div>

            <input class="input-submit" type="submit" value="Próximo">
        </form>
        <p>Já tem uma conta? <a href="login.html">Faça Login</a></p>
    </div>
    <script src="javascript/scripts.js"></script>
    <script>
    // Primeiro passo do cadastro: salvar nome/email/senha e redirecionar
    document.getElementById('cadastroForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const nome = document.getElementById('nome').value.trim();
        const email = document.getElementById('email').value.trim();
        const senha = document.getElementById('senha').value;
        const confirma = document.getElementById('confirmaSenha').value;

        if (!nome || !email || !senha || !confirma) {
            alert('Preencha todos os campos.');
            return;
        }

        if (senha !== confirma) {
            alert('As senhas não coincidem.');
            return;
        }

        // Salva temporariamente os dados e vai para a página de completar cadastro
        const parcial = { nome_usuario: nome, email, senha };
        localStorage.setItem('cadastro_parcial', JSON.stringify(parcial));
        window.location.href = 'completa-cadastro.html';
    });
    </script>
</body>
</html>