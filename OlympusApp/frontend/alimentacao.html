<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Alimentação - Olympus App</title>
    <link rel="shortcut icon" href="imgs/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="css/padrao.css"> 
    <link rel="stylesheet" href="css/alimentacao.css">
</head>
<body>
    <header>
        <h1><a href="index.html" style="text-decoration: none; color: inherit;">Olympus App</a></h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="exercicios.html">Exercícios</a>
            <a href="alimentacao.html">Alimentação</a> <a href="profile.html">Perfil</a>
            <a href="login.html">Sair</a>
        </nav>
    </header>

    <main>
        <h1>Registro Alimentar do Dia</h1>

        <div id="contador-calorias">
            Total de Calorias Consumidas: <span id="total-calorias">0</span> Kcal
        </div>

        <section id="registro-refeicao">
            <h2>Adicionar Nova Refeição</h2>
            <form id="form-refeicao">
                <div class="form-group">
                    <label for="alimento">Alimento/Refeição:</label>
                    <input type="text" id="alimento" name="alimento" placeholder="Ex: Frango Grelhado (150g)" required>
                </div>
                
                <div class="form-group">
                    <label for="calorias">Calorias (Kcal):</label>
                    <input type="number" id="calorias" name="calorias" min="1" placeholder="Ex: 350" required>
                </div>

                <input type="submit" value="Registrar Refeição" class="input-submit">
            </form>
        </section>

        <section id="lista-refeicoes">
            <h2>Refeições Registradas</h2>
            <ul id="refeicoes-dia">
                </ul>
            <p id="sem-refeicoes" style="text-align: center; color: #888;">Nenhuma refeição registrada ainda.</p>
        </section>
        
    </main>

    <footer class="site-footer">
        <div class="footer-inner">
            <small>© <span id="year"></span> Olympus App</small>
            <nav class="footer-links" aria-label="Links úteis">
                <a href="sobre.html">Sobre</a>
                <a href="termos.html">Termos</a>
                <a href="privacidade.html">Privacidade</a>
                <a href="cancelamentos.html">Cancelamentos</a>
            </nav>
        </div>
    </footer>

    <script>
        document.getElementById('year').textContent = new Date().getFullYear();

        const form = document.getElementById('form-refeicao');
        const listaRefeicoes = document.getElementById('refeicoes-dia');
        const totalCaloriasSpan = document.getElementById('total-calorias');
        const semRefeicoes = document.getElementById('sem-refeicoes');
        let totalCalorias = 0;

        // Função para atualizar o contador de calorias
        function atualizarContador() {
            totalCaloriasSpan.textContent = totalCalorias;
            if (listaRefeicoes.children.length === 0) {
                semRefeicoes.style.display = 'block';
            } else {
                semRefeicoes.style.display = 'none';
            }
        }

        // Função para adicionar uma nova refeição
        form.addEventListener('submit', function(e) {
            e.preventDefault();

            const alimentoInput = document.getElementById('alimento');
            const caloriasInput = document.getElementById('calorias');

            const alimento = alimentoInput.value.trim();
            const calorias = parseInt(caloriasInput.value);

            if (alimento && calorias > 0) {
                // 1. Criar o item da lista
                const novoItem = document.createElement('li');
                novoItem.innerHTML = `
                    <span class="info-refeicao">${alimento}</span>
                    <span class="calorias-refeicao">${calorias} Kcal</span>
                `;
                listaRefeicoes.appendChild(novoItem);

                // 2. Atualizar o total de calorias
                totalCalorias += calorias;
                atualizarContador();

                // 3. Limpar o formulário
                alimentoInput.value = '';
                caloriasInput.value = '';
                alimentoInput.focus();
            } else {
                alert('Por favor, preencha o nome do alimento e a quantidade de calorias (deve ser um valor positivo).');
            }
        });

        // Inicializa o contador e a mensagem de "sem refeições"
        atualizarContador();

    </script>
</body>
</html>